
> backend@1.0.0 test
> cross-env NODE_ENV=test node --experimental-vm-modules node_modules/jest/bin/jest.js --testTimeout=120000 tests/volunteer_lifecycle.test.js

(node:15260) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.log
    [Notification] To: 697f841d6a7fd8f057eae0e8, Msg: Your donation "Test Donation" has been claimed by Helping Hands, Type: donation_assigned

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f841d6a7fd8f057eae0e8, Msg: A volunteer Volunteer One is on their way to pick up your donation!, Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f841d6a7fd8f057eae0fc, Msg: Volunteer Volunteer One has accepted your delivery and is heading to the donor., Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.log
    [Notification] To: 697f841e6a7fd8f057eae111, Msg: Your donation "Test Donation" has been claimed by Helping Hands, Type: donation_assigned

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f841e6a7fd8f057eae111, Msg: A volunteer Volunteer One is on their way to pick up your donation!, Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f841f6a7fd8f057eae124, Msg: Volunteer Volunteer One has accepted your delivery and is heading to the donor., Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.log
    [Notification] To: 697f841f6a7fd8f057eae13a, Msg: Your donation "Test Donation" has been claimed by Helping Hands, Type: donation_assigned

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f841f6a7fd8f057eae13a, Msg: A volunteer Volunteer One is on their way to pick up your donation!, Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f841f6a7fd8f057eae14d, Msg: Volunteer Volunteer One has accepted your delivery and is heading to the donor., Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.log
    PICKUP ERROR: 500 {}

      at Object.<anonymous> (tests/volunteer_lifecycle.test.js:222:49)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.log
    [Notification] To: 697f84206a7fd8f057eae168, Msg: Your donation "Test Donation" has been claimed by Helping Hands, Type: donation_assigned

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f84206a7fd8f057eae168, Msg: A volunteer Volunteer One is on their way to pick up your donation!, Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f84206a7fd8f057eae17b, Msg: Volunteer Volunteer One has accepted your delivery and is heading to the donor., Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.error
    Failed to send welcome OTP email: Error: connect ECONNREFUSED 127.0.0.1:587
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16) {
      errno: -4078,
      code: 'ESOCKET',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 587,
      command: 'CONN'
    }

    [0m [90m  95 |[39m                 })[33m;[39m
     [90m  96 |[39m             } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  97 |[39m                 console[33m.[39merror([32m"Failed to send welcome OTP email:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m  98 |[39m                 [90m// We still proceed, user can request new OTP on login[39m
     [90m  99 |[39m             }
     [90m 100 |[39m[0m

      at signupUser (controllers/auth.controller.js:97:25)

  console.log
    [Notification] To: 697f84216a7fd8f057eae190, Msg: Your donation "Test Donation" has been claimed by Helping Hands, Type: donation_assigned

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f84216a7fd8f057eae190, Msg: A volunteer Volunteer One is on their way to pick up your donation!, Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.log
    [Notification] To: 697f84216a7fd8f057eae1a3, Msg: Volunteer Volunteer One has accepted your delivery and is heading to the donor., Type: volunteer_accepted

      at createNotification (utils/notification.js:12:17)

  console.log
    DELIVERY ERROR: 500 {}

      at Object.<anonymous> (tests/volunteer_lifecycle.test.js:304:49)

FAIL tests/volunteer_lifecycle.test.js (16.059 s)
  Volunteer Lifecycle Integration Tests
    Mission Claim Integrity
      âˆš should allow a volunteer to accept a mission and update status (1351 ms)
      âˆš should prevent another volunteer from claiming the same mission (1012 ms)
    Progressive State Machine
      Ã— should support the full happy path lifecycle (996 ms)
      âˆš should prevent jumping to delivered via status endpoint (915 ms)
    Automatic Impact Calculation
      Ã— should increment volunteer stats upon delivery confirmation (1104 ms)

  â— Volunteer Lifecycle Integration Tests â€º Progressive State Machine â€º should support the full happy path lifecycle

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 221 |[39m
     [90m 222 |[39m             [36mif[39m (res[33m.[39mstatusCode [33m!==[39m [35m200[39m) console[33m.[39mlog([32m'PICKUP ERROR:'[39m[33m,[39m res[33m.[39mstatusCode[33m,[39m res[33m.[39mtext)[33m;[39m
    [31m[1m>[22m[39m[90m 223 |[39m             expect(res[33m.[39mstatusCode)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 224 |[39m             expect(res[33m.[39mbody[33m.[39mdeliveryStatus)[33m.[39mtoBe([32m'picked_up'[39m)[33m;[39m
     [90m 225 |[39m             expect(res[33m.[39mbody[33m.[39mpickupPhoto)[33m.[39mtoBeDefined()[33m;[39m
     [90m 226 |[39m             expect(res[33m.[39mbody[33m.[39mpickedUpAt)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (tests/volunteer_lifecycle.test.js:223:36)

  â— Volunteer Lifecycle Integration Tests â€º Automatic Impact Calculation â€º should increment volunteer stats upon delivery confirmation

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 303 |[39m
     [90m 304 |[39m             [36mif[39m (res[33m.[39mstatusCode [33m!==[39m [35m200[39m) console[33m.[39mlog([32m'DELIVERY ERROR:'[39m[33m,[39m res[33m.[39mstatusCode[33m,[39m res[33m.[39mtext)[33m;[39m
    [31m[1m>[22m[39m[90m 305 |[39m             expect(res[33m.[39mstatusCode)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 306 |[39m
     [90m 307 |[39m             [90m// Check final stats[39m
     [90m 308 |[39m             vol [33m=[39m [36mawait[39m [33mUser[39m[33m.[39mfindById(volunteerId)[33m;[39m[0m

      at Object.<anonymous> (tests/volunteer_lifecycle.test.js:305:36)

Test Suites: 1 failed, 1 total
Tests:       2 failed, 3 passed, 5 total
Snapshots:   0 total
Time:        16.306 s, estimated 24 s
Ran all test suites matching tests/volunteer_lifecycle.test.js.
